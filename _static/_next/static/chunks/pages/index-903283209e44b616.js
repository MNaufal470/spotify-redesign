(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7e3)}])},7e3:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pe}});var n=r(5893),l=r(3299),a=r(9008),i=r.n(a),s=r(1163),o=r(5675),c=r.n(o),u=r(5575),d=r(2315),f=r(547),m=r(59),x=r(9583),h=r(9352);var p=function(){return(0,n.jsxs)("section",{className:"hidden md:fixed md:top-0 z-40 md:flex flex-col p-4 items-center bg-black md:w-[90px] h-screen space-y-8 ",children:[(0,n.jsx)(c(),{src:"https://rb.gy/xkacau",width:56,height:56,objectFit:"contain"}),(0,n.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,n.jsx)(u.Z,{className:"sidebarIcon text-white opacity-[0.85]"}),(0,n.jsx)(h.u2A,{className:"sidebarIcon text-2xl"}),(0,n.jsx)(x.kOf,{className:"sidebarIcon ml-1"}),(0,n.jsx)(d.Z,{className:"sidebarIcon"}),(0,n.jsx)(f.Z,{className:"sidebarIcon"}),(0,n.jsx)(m.Z,{className:"sidebarIcon"})]})]})},y=r(7294),b=r(5434);var v=function(e){var t=e.search,r=e.setSearch;return(0,n.jsxs)("div",{className:"w-[100%] md:max-w-[992px] bg-[#1A1A1A] rounded-full overflow-hidden border-2 border-[#333333] md:p-1.5 md:px-5 md:pr-8 flex items-center",children:[(0,n.jsx)("div",{className:"ml-3 md:ml-0 h-4 w-4 rounded-full border-2 flex-shrink-0 animate-pulse "}),(0,n.jsx)("input",{type:"text",className:" bg-[#1A1A1A] text-white border-none lg:w-full focus:ring-0 outline-none placeholder-[#FAFAFA] text-xs lg:text-sm",value:t,onChange:function(e){return r(e.target.value)},placeholder:"Search..."}),(0,n.jsx)("div",{className:"hidden md:inline",children:(0,n.jsxs)("div",{className:"flex items-center divide-solid divide-x-2 divide-[#333333] ml-auto",children:[(0,n.jsxs)("div",{className:"flex space-x-2 pr-5",children:[(0,n.jsx)("button",{className:"tag",children:"Minimal"}),(0,n.jsx)("button",{className:"tag",children:"House"}),(0,n.jsx)("button",{className:"tag",children:"Minimal"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-1.5 text-[#CECECE] pl-4",children:[(0,n.jsx)(b.yft,{className:"text-2xl animate-pulse"}),(0,n.jsx)("span",{className:"font-medium text-sm",children:"Filters"})]})]})})]})},g=r(3750),j=r(4480),w=(0,j.cn)({key:"playState",default:!1}),N=(0,j.cn)({key:"playingTrackState",default:""});function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var t=e.track,r=e.chooseTrack,l=A((0,j.FV)(w),2),a=l[0],i=l[1],s=A((0,j.FV)(N),2),o=s[0];return s[1],(0,n.jsxs)("div",{className:"w-[150px] h-[250px] md:w-[220px] md:h-[320px] rounded-[50px] overflow-hidden relative text-white/80 cursor-pointer hover:scale-105 hover:text-white/100 transition duration-200 ease-out group mx-auto ",onClick:function(){r(t),t.uri===o.uri&&i(!a)},children:[(0,n.jsx)("img",{src:t.albumUrl,alt:"",className:"h-full w-full absolute inset-0 object-cover rounded-[25px] opacity-80 group-hover:opacity-100"}),(0,n.jsxs)("div",{className:"absolute bottom-10 inset-x-0 ml-4 flex items-center space-x-3.5",children:[(0,n.jsx)("div",{className:"h-10 w-10 bg-[#15883e] rounded-full flex items-center justify-center group-hover:bg-[#1db954] flex-shrink-0",children:t.uri===o.uri&&a?(0,n.jsx)(g.obJ,{className:"text-white text-xl"}):(0,n.jsx)(g.mz0,{className:"text-white text-xl ml-[1px]"})}),(0,n.jsxs)("div",{className:"text-[15px]",children:[(0,n.jsx)("h4",{className:"font-extrabold truncate w-44",children:t.title}),(0,n.jsx)("h6",{children:t.artist})]})]})]})},C=r(8193),T=r(3990);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e){var t=e.track,r=e.chooseTrack,l=(0,y.useState)(!1),a=l[0],i=l[1],s=E((0,j.FV)(w),2),o=s[0],c=s[1],u=E((0,j.FV)(N),2),d=u[0],f=(u[1],function(){r(t),t.uri===d.uri&&c(!o)});return(0,n.jsxs)("div",{className:"flex items-center justify-between space-x-20 cursor-default hover:bg-white/10 py-2 px-4 rounded-lg group transition ease-out",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:t.albumUrl,alt:"",className:"rounded-xl h-12 w-12 object-cover mr-3"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white text-sm font-semibold truncate w-[450px]",children:t.title}),(0,n.jsx)("p",{className:"text-gray-700 text-[13px] font-semibold group-hover:text-white",children:t.artist})]})]}),(0,n.jsxs)("div",{className:"md:ml-auto flex items-center space-x-2.5",children:[(0,n.jsxs)("div",{className:"text-white flex space-x-1 text-sm font-semibold",children:[(0,n.jsx)(T.Z$K,{className:"text-lg"}),(0,n.jsx)("h4",{className:"font-sans",children:t.popularity})]}),(0,n.jsxs)("div",{className:"flex items-center rounded-full border-2 border-[#262626] w-[85px] h-10 relative cursor-pointer group-hover:border-white/40",children:[(0,n.jsx)(C.M_L,{className:"text-xl ml-3 icon ".concat(a?"text-[#1ED760]":"text-[#868686]"),onClick:function(){return i(!a)}}),t.uri===d.uri&&o?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-10 w-10 rounded-full border border-[#15883e] flex items-center justify-center absolute -right-0.5 bg-[#15883e] icon hover:scale-110",onClick:f,children:(0,n.jsx)(g.obJ,{className:"text-white text-xl"})})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-10 w-10 rounded-full border border-white/60 flex items-center justify-center absolute -right-0.5 hover:bg-[#15883e] hover:border-[#15883e] icon hover:scale-110",onClick:f,children:(0,n.jsx)(g.mz0,{className:"text-white text-xl ml-[1px]"})})})]})]})]})};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){var t,r=e.track,l=e.chooseTrack,a=(0,y.useState)(!1),i=a[0],s=a[1],o=_((0,j.FV)(w),2),c=o[0],u=o[1],d=_((0,j.FV)(N),2),f=d[0],m=(d[1],function(){l(r.track),r.track.uri===f.uri&&u(!c)});return(0,n.jsxs)("div",{className:"flex items-center justify-between space-x-20 cursor-default hover:bg-white/10 py-2 px-4 rounded-lg group transition ease-out",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:r.track.album.images[0].url,alt:"",className:"rounded-xl h-12 w-12 object-cover mr-3"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white text-sm font-semibold truncate w-[450px]",children:r.track.name}),(0,n.jsx)("p",{className:"text-gray-700 text-[13px] font-semibold group-hover:text-white",children:r.track.artists[0].name})]})]}),(0,n.jsxs)("div",{className:"md:ml-auto flex items-center space-x-2.5",children:[(0,n.jsxs)("div",{className:"text-white flex space-x-1 text-sm font-semibold",children:[(0,n.jsx)(T.Z$K,{className:"text-lg"}),(0,n.jsx)("h4",{className:"font-sans",children:null===r||void 0===r||null===(t=r.track)||void 0===t?void 0:t.popularity})]}),(0,n.jsxs)("div",{className:"flex items-center rounded-full border-2 border-[#262626] w-[85px] h-10 relative cursor-pointer group-hover:border-white/40",children:[(0,n.jsx)(C.M_L,{className:"text-xl ml-3 icon ".concat(i?"text-[#1ED760]":"text-[#868686]"),onClick:function(){return s(!i)}}),r.track.uri===f.uri&&c?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-10 w-10 rounded-full border border-[#15883e] flex items-center justify-center absolute -right-0.5 bg-[#15883e] icon hover:scale-110",onClick:m,children:(0,n.jsx)(g.obJ,{className:"text-white text-xl"})})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-10 w-10 rounded-full border border-white/60 flex items-center justify-center absolute -right-0.5 hover:bg-[#15883e] hover:border-[#15883e] icon hover:scale-110",onClick:m,children:(0,n.jsx)(g.mz0,{className:"text-white text-xl ml-[1px]"})})})]})]})]})},V=(0,j.cn)({key:"playlistIdstate",default:null}),M=(0,j.cn)({key:"playlistAtomState",default:null}),D=(0,j.cn)({key:"playlistActive",default:!1});function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e){var t=e.SpotifyApi,r=e.chooseTrack,a=(0,y.useState)(""),i=a[0],s=a[1],o=(0,y.useState)([]),c=o[0],u=o[1],d=(0,y.useState)([]),f=d[0],m=d[1],x=(0,l.useSession)(),h=x.data,p=(x.status,null===h||void 0===h?void 0:h.accessToken),b=(0,j.sJ)(V),g=$((0,j.FV)(M),2),w=g[0],N=g[1],k=$((0,j.FV)(D),2),A=k[0],C=k[1];return(0,y.useEffect)((function(){p&&t.getPlaylist(b).then((function(e){N(e.body)})).catch((function(e){}))}),[p,b]),(0,y.useEffect)((function(){p&&t.setAccessToken(p)}),[p]),(0,y.useEffect)((function(){if(!i)return u([]);p&&(C(!1),t.searchTracks(i).then((function(e){u(e.body.tracks.items.map((function(e){return{id:e.id,artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:e.album.images[0].url,popularity:e.popularity}})))})))}),[i,p]),(0,y.useEffect)((function(){p&&t.getNewReleases().then((function(e){m(e.body.albums.items.map((function(e){return{id:e.id,artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:e.images[0].url}})))}))}),[i,p]),(0,n.jsxs)("section",{className:"bg-black md:ml-24 py-4 space-y-8 md:max-w-6xl flex-grow md:mr-2.5",children:[(0,n.jsx)(v,{search:i,setSearch:s}),(0,n.jsx)("div",{className:"grid overflow-y-scroll scrollbar-hide h-96 py-4 grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-4 gap-y-8 p-4",children:0===c.length?f.slice(0,4).map((function(e){return(0,n.jsx)(S,{track:e,chooseTrack:r},e.id)})):c.slice(0,4).map((function(e){return(0,n.jsx)(S,{track:e,chooseTrack:r},e.id)}))}),(0,n.jsx)("div",{className:"flex absolute min-w-full md:relative ml-6 ",children:(0,n.jsxs)("div",{className:"w-full pr-11",children:[(0,n.jsx)("h2",{className:"text-white font-bold mb-3",children:0===c.length?"New Releases":"Tracks"}),(0,n.jsx)("div",{className:"space-y-3 border-2 border-[#262626] rounded-2xl p-3 bg-[#0D0D0D] overflow-y-scroll h-[1000px] md:h-96 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-thumb-rounded hover:scrollbar-thumb-gray-500 px-3 ",children:0!==c.length||A?c&&!A?c.slice(4,c.length).map((function(e){return(0,n.jsx)(F,{track:e,chooseTrack:r},e.id)})):null===w||void 0===w?void 0:w.tracks.items.map((function(e){return(0,n.jsx)(U,{track:e,chooseTrack:r},e.track.id)})):f.slice(4,f.length).map((function(e){return(0,n.jsx)(F,{track:e,chooseTrack:r},e.id)}))})]})})]})},R=r(3854),z=r(7516),L=r(8362),J=r(3447),H=r(1407),K=r(3342),B=r(4935);function X(){var e,t=(0,l.useSession)().data;return(0,n.jsxs)(J.v,{as:"div",className:"w-24 h-12 relative flex items-center",children:[(0,n.jsx)("div",{className:"w-full absolute right-1 group",children:(0,n.jsxs)(J.v.Button,{className:"flex items-center w-full px-4 py-3 text-sm font-medium text-white bg-[#1A1A1A] rounded-full hover:bg-[#3E3E3E]",children:[(0,n.jsx)(K.Z,{className:"h-6 text-[#686868]","aria-hidden":"true"}),(0,n.jsx)("img",{src:null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.image,alt:"",className:"rounded-full w-11 h-11 absolute -right-1 object-cover"})]})}),(0,n.jsx)(H.u,{as:y.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)(J.v.Items,{className:"absolute right-0 w-36 mt-24 origin-top-right bg-[#1A1A1A] divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,n.jsx)("div",{className:"px-1 py-1 ",children:(0,n.jsx)(J.v.Item,{children:function(e){var t=e.active;return(0,n.jsxs)("button",{className:"".concat(t&&"bg-white/10"," group flex rounded-md items-center w-full px-2 py-2 text-sm font-semibold tracking-wide text-white cursor-default"),onClick:function(){return(0,l.signOut)({redirect:!1})},children:[(0,n.jsx)(B.Z,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Log out"]})}})})})})]})}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e){var t=e.track,r=e.chooseTrack,l=q((0,j.FV)(w),2),a=l[0],i=l[1],s=q((0,j.FV)(N),2),o=s[0];return s[1],(0,n.jsxs)("div",{className:"flex items-center space-x-3",onClick:function(){r(t),t.uri===o.uri&&i(!a)},children:[(0,n.jsx)("img",{src:t.albumUrl,alt:"",className:"rounded-full w-[52px] h-[52px]"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-white text-[13px] mb-0.5 font-semibold hover:underline cursor-pointer truncate max-w-[150px]",children:t.title}),(0,n.jsx)("p",{className:"text-xs text-[#686868] font-semibold cursor-pointer hover:underline",children:t.artist})]})]})};function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){var t,r,l=e.track,a=Q((0,j.FV)(V),2),i=(a[0],a[1]),s=Q((0,j.FV)(D),2),o=(s[0],s[1]);return(0,n.jsxs)("div",{className:"flex items-center space-x-3 hover:bg-white/10 rounded-2xl",onClick:function(){i(l.id),o(!0)},children:[(0,n.jsx)("img",{src:null===l||void 0===l||null===(t=l.images)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.url,alt:"",className:"rounded-full w-[52px] h-[52px]"}),(0,n.jsx)("div",{children:(0,n.jsx)("h4",{className:"text-white text-[13px] mb-0.5 font-semibold cursor-pointer truncate max-w-[150px]",children:l.name})})]})},te=r(471);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e){var t=e.SpotifyApi,r=e.chooseTrack,a=(0,l.useSession)().data,i=null===a||void 0===a?void 0:a.accessToken,s=(0,y.useState)([]),o=s[0],c=s[1],u=ne((0,j.FV)(w),2),d=(u[0],u[1],ne((0,j.FV)(N),2)),f=(d[0],d[1],(0,y.useState)()),m=f[0],x=f[1];return(0,y.useEffect)((function(){i&&t.getMyRecentlyPlayedTracks({limit:20}).then((function(e){c(e.body.items.map((function(e){var t=e.track;return{id:t.id,artist:t.artists[0].name,title:t.name,uri:t.uri,albumUrl:t.album.images[0].url}})))}))}),[i,t]),(0,y.useEffect)((function(){i&&t.getAccessToken()&&t.getUserPlaylists().then((function(e){x(e.body.items)}))}),[i,t]),(0,n.jsxs)("section",{className:"pt-4 space-y-8 pr-3",children:[(0,n.jsxs)("div",{className:"flex space-x-2 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 border-2 border-[#262626] rounded-full h-12 py-3 px-4",children:[(0,n.jsx)(R.c3K,{className:"text-[#CCCCCC] text-xl"}),(0,n.jsx)(b.cgG,{className:"text-[#CCCCCC] text-xl"}),(0,n.jsx)("div",{children:(0,n.jsx)(z.Lok,{className:"text-[#CCCCCC] text-xl"})})]}),(0,n.jsx)(X,{})]}),(0,n.jsxs)("div",{className:"bg-[#0D0D0D] border-2 border-[#262626] p-4 rounded-xl space-y-4 lg:w-[]",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h4",{className:"text-white font-semibold text-sm",children:"Your Playlist"}),(0,n.jsx)(te.VE1,{className:"text-[#686868] h-6 text-2xl"})]}),(0,n.jsx)("div",{className:"space-y-4 overflow-y-scroll overflow-x-hidden h-[250px] md:h-[300px] scrollbar-thin scrollbar-thumb-gray-600 scrollbar-thumb-rounded hover:scrollbar-thumb-gray-500",children:null===m||void 0===m?void 0:m.map((function(e,t){return(0,n.jsx)(ee,{track:e},t)}))})]}),(0,n.jsxs)("div",{className:"bg-[#0D0D0D] border-2 border-[#262626] p-4 rounded-xl space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h4",{className:"text-white font-semibold text-sm",children:"Recently Played"}),(0,n.jsx)(L.Z,{className:"text-[#686868] h-6"})]}),(0,n.jsx)("div",{className:"space-y-4 overflow-y-scroll overflow-x-hidden h-[250px] md:h-[400px] scrollbar-thin scrollbar-thumb-gray-600 scrollbar-thumb-rounded hover:scrollbar-thumb-gray-500",children:o.map((function(e,t){return(0,n.jsx)(G,{track:e,chooseTrack:r},t)}))})]})]})},ae=r(3362);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(e){var t=e.accessToken,r=e.trackUri,l=se((0,j.FV)(w),2),a=l[0],i=l[1],s=se((0,j.FV)(N),2);return s[0],s[1],(0,y.useEffect)((function(){r&&i(!0)}),[r]),t?(0,n.jsx)(ae.ZP,{styles:{activeColor:"#fff",bgColor:"#181818",color:"#fff",loaderColor:"#fff",sliderColor:"#1cb954",trackArtistColor:"#ccc",trackNameColor:"#fff",height:"70px",sliderTrackColor:"#535353",sliderTrackBorderRadius:"4px",sliderHandleColor:"#fff",errorColor:"#fff"},token:t,showSaveIcon:!0,callback:function(e){i(e.isPlaying)},play:a,uris:r?[r]:[],magnifySliderOnHover:!0,autoPlay:!0}):null},ce=r(7539),ue=r.n(ce),de=r(3454);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==r.return||r.return()}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=new(ue())({clientId:de.env.SPOTIFY_CLIENT_ID});var he=function(){var e=(0,l.useSession)().data,t=null===e||void 0===e?void 0:e.accessToken,r=me((0,j.FV)(N),2),a=r[0],i=r[1],s=(0,y.useState)(!1),o=(s[0],s[1]),c=function(e){i(e)};return(0,y.useEffect)((function(){o(!0)}),[]),(0,y.useEffect)((function(){t&&xe.setAccessToken(t)}),[t]),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen w-full bg-black lg:pb-24 ",children:[(0,n.jsx)(p,{}),(0,n.jsx)(Z,{SpotifyApi:xe,chooseTrack:c}),(0,n.jsx)(le,{SpotifyApi:xe,chooseTrack:c}),(0,n.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,n.jsx)(oe,{accessToken:t,trackUri:a.uri})})]})},pe=function(){var e=(0,s.useRouter)(),t=(0,l.useSession)({required:!0,onUnauthenticated:function(){e.push("/login")}});t.data,t.status;return(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Spotify - Web Player"}),(0,n.jsx)("link",{rel:"icon",href:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/2048px-Spotify_logo_without_text.svg.png"})]}),(0,n.jsx)("main",{className:"w-[85%] mx-auto md:w-full md:mx-0",children:(0,n.jsx)(he,{})})]})}},4654:function(){}},function(e){e.O(0,[937,228,609,556,445,955,13,874,617,345,586,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);